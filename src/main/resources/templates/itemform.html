<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="base::header">
    <title>Item Form</title>
</head>
<body>
<div th:replace="base::nav"></div>

<!--Image Slider-->
<div id="slides" class="carousel slide" data-ride="carousel">

    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="https://i.imgur.com/rOtOEIS.png">
            <div class="carousel-caption">
                <h1 class="display-2">Add Item</h1>
            </div>
        </div>
    </div>
</div>

<div class="container col-md-6 col-md-offset-3 text-center">

    <div class="login-page">
        <div class="form mx-auto" >
            <form class="login-form" action="#" enctype="multipart/form-data"
                  method="post"
                  th:action="@{/process}"
                  th:object="${item}">
                <input th:field="*{id}" type="hidden"/>

                <select class="custom-select" id="category" th:field="*{category}">
                    <option th:each="option: ${categories}"
                            th:utext="${option.name}"
                            th:value="${option.id}">
                    </option>
                </select>

                <strong>
                    <span class="error-message"
                          th:errors="*{category}"
                          th:if="${#fields.hasErrors('category')}">
                    </span>
                </strong>

                <input id="name" placeholder="Item's Name" th:field="*{name}" type="text"/>
                <strong>
                <span class="error-message"
                      th:errors="*{name}"
                      th:if="${#fields.hasErrors('name')}"></span>
                </strong>

                <input id="color" placeholder="Color" th:field="*{color}" type="text"/>
                <strong>
                 <span class="error-message"
                       th:errors="*{color}"
                       th:if="${#fields.hasErrors('color')}">
                 </span>
                </strong>

                <input id="material" placeholder="Material" th:field="*{material}" type="text"/>
                <strong>
                    <span class="error-message"
                          th:errors="*{material}"
                          th:if="${#fields.hasErrors('material')}">
                    </span>
                </strong>

                <div th:unless="*{picturePath.isEmpty()}"><!-- if picture path is not empty-->
                    <input th:field="*{picturePath}" type="hidden">
                    <img alt="Picture" class="profile-picture" th:src="*{picturePath}"/> <!--[[${item.picturePath}]]-->
                    <span th:errors="*{picturePath}" th:if="${#fields.hasErrors('picturePath')}"></span>
                </div>

                <div class="form-group row">
                    <label class="col-sm-2 col-form-label" for="file">[[${imageLabel}]]:</label>
                    <div class="col-sm-10 text-left">
                        <input class="form-control-file border" id="file" name="file" type="file">
                    </div>
                </div>

                <input placeholder="Size" th:field="*{size}" type="text"/>
                <strong>
                    <span class="error-message"
                          th:errors="*{size}"
                          th:if="${#fields.hasErrors('size')}">
                    </span>
                </strong>


                        <input id="length" placeholder="length" th:field="*{length}" type="text"/>
                        <strong>
                    <span class="error-message"
                          th:errors="*{length}"
                          th:if="${#fields.hasErrors('length')}">
                    </span>
                        </strong>

                        <textarea placeholder="Description" rows="3" th:field="*{description}"></textarea>
                        <strong>
                     <span class="error-message"
                           th:errors="*{description}"
                           th:if="${#fields.hasErrors('description')}">
                     </span>
                        </strong>

                        <select class="custom-select" th:field="*{occasion}">
                            <option th:each="option: ${occasions}"
                                    th:utext="${option.name}"
                                    th:value="${option.id}">
                            </option>
                        </select>
                        <strong>
                    <span class="error-message"
                          th:errors="*{occasion}"
                          th:if="${#fields.hasErrors('occasion')}">
                    </span>
                        </strong>

                        <select class="custom-select" th:field="*{climate}">
                            <option th:each="option: ${climates}"
                                    th:utext="${option.name}"
                                    th:value="${option.id}">
                            </option>
                        </select>
                        <strong>
                    <span class="error-message"
                          th:errors="*{climate}"
                          th:if="${#fields.hasErrors('climate')}">
                    </span>
                        </strong>

                        <select class="custom-select" th:field="*{wind}">
                            <option th:each="option: ${winds}"
                                    th:utext="${option.name}"
                                    th:value="${option.id}">
                            </option>
                        </select>
                        <strong>
                    <span class="error-message"
                          th:errors="*{wind}"
                          th:if="${#fields.hasErrors('wind')}">
                    </span>
                        </strong>

                            <br/>
                        <label th:text="${myuser.firstName} +' ' +${myuser.lastName}"></label>
                        <strong>
                     <span class="error-message"
                           th:errors="*{user}"
                           th:if="${#fields.hasErrors('user')}">
                    </span>
                        </strong>

                    <input th:field="*{user}" type="hidden">

                <button type="submit">Submit</button>
            </form>
        </div>
    </div>
</div>

<br/>
<div th:replace="base::footer"></div>
</body>
</html>